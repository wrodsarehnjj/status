<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CC‑MP</title>
  <meta name="color-scheme" content="dark light" />
  <!-- Single switch: set to Up or Down -->
  <meta name="ccmp-status" content="Up" />
  <style>
    :root{
      --bg: radial-gradient(1200px 800px at 10% 10%, #1c2536, #0f172a 40%, #0b1020 60%);
      --card: rgba(255,255,255,0.06);
      --card-border: rgba(255,255,255,0.12);
      --txt: #eef2ff;
      --muted: #a3aed0;
      --green: #3bff7a;
      --red: #ff5b6e;
      --accent1: #7c3aed; /* purple */
      --accent2: #22d3ee; /* cyan */
      --shadow: 0 10px 30px rgba(0,0,0,.45);
      --radius: 18px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font: 16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,'Noto Sans',sans-serif;
      color: var(--txt);
      background: var(--bg), #0f172a;
      display:grid; place-items:center; padding: 24px;
    }
    .shell{ width:min(840px, 94vw); }

    /* Header */
    .hero{
      background: linear-gradient(135deg, rgba(124,58,237,.25), rgba(34,211,238,.18));
      border:1px solid var(--card-border);
      border-radius: var(--radius);
      padding: 18px 20px; box-shadow: var(--shadow);
      display:flex; align-items:center; gap:14px; margin-bottom:12px;
      backdrop-filter: blur(8px) saturate(130%);
    }
    .logo{ width:44px; height:44px; border-radius:12px; display:grid; place-items:center; font-weight:800; letter-spacing:.5px;
      background: linear-gradient(135deg, var(--accent1), var(--accent2));
      box-shadow: inset 0 0 0 2px rgba(255,255,255,.15);
    }
    .hero h1{ margin:0; font-size:clamp(22px,4vw,28px) }
    .hero .muted{ color:var(--muted); font-size:.95rem; margin-top:2px }

    /* Tabs */
    .tabs{ display:flex; gap:8px; position:relative; padding:8px; border-radius:14px; background: var(--card);
      border:1px solid var(--card-border); box-shadow: var(--shadow); }
    .tab{ appearance:none; background:transparent; color:var(--txt); border:0; padding:10px 14px; border-radius:10px; cursor:pointer; font-weight:600; position:relative; }
    .tab[aria-selected="true"]{ background: rgba(255,255,255,.08); }

    .panel{ margin-top:14px; background: var(--card); border:1px solid var(--card-border); border-radius: var(--radius); box-shadow: var(--shadow); padding: 22px; }

    /* Status visuals */
    .row{ display:flex; align-items:center; justify-content:center; gap:14px; min-height:100px; }
    .status{ font-size: clamp(42px, 6vw, 56px); font-weight: 900; letter-spacing:.4px; }
    .badge{ font-size:.85rem; padding:6px 10px; border-radius:999px; background:rgba(255,255,255,.07); border:1px solid var(--card-border); color:var(--muted); }

    .dot{ width:20px; height:20px; border-radius:999px; position:relative; box-shadow:0 0 0 4px rgba(0,0,0,.18), inset 0 0 10px rgba(0,0,0,.35); }
    .dot::after{ content:""; position:absolute; inset:-6px; border-radius:inherit; filter: blur(10px); opacity:.45; }
    .dot.up{ background: radial-gradient(circle at 30% 30%, #fff, var(--green) 45%, #1cc769 65%); box-shadow:0 0 18px rgba(59,255,122,.55), inset 0 0 10px rgba(0,0,0,.35) }
    .dot.up::after{ background: radial-gradient(circle, rgba(59,255,122,.8), transparent 45%); }
    .dot.down{ background: radial-gradient(circle at 30% 30%, #fff, var(--red) 45%, #dc2e45 65%); box-shadow:0 0 18px rgba(255,91,110,.55), inset 0 0 10px rgba(0,0,0,.35); }
    .dot.down::after{ background: radial-gradient(circle, rgba(255,91,110,.8), transparent 45%); }

    /* Info */
    .grid{ display:grid; grid-template-columns:repeat(2,minmax(0,1fr)); gap:14px; }
    .card{ background: rgba(255,255,255,.05); border:1px solid var(--card-border); border-radius:14px; padding:14px 16px; }
    .card h3{ margin:0 0 6px; font-size:1.05rem }
    .list{ margin:0; padding-left:18px }

    @media (max-width:720px){ .grid{ grid-template-columns:1fr } }
  </style>
</head>
<body>
  <div class="shell">
    <header class="hero" role="banner">
      <div class="logo" aria-hidden="true">CC</div>
      <div>
        <h1>CC‑MP</h1>
        <div class="muted">Cookie Clicker Multiplayer</div>
      </div>
    </header>

    <nav class="tabs" role="tablist" aria-label="CC‑MP Sections">
      <button class="tab" role="tab" aria-selected="true" aria-controls="panel-status" id="tab-status">Status</button>
      <button class="tab" role="tab" aria-selected="false" aria-controls="panel-info" id="tab-info">Info</button>
    </nav>

    <!-- STATUS PANEL (initial markup mirrors meta to help external checkers) -->
    <section class="panel" role="tabpanel" id="panel-status" aria-labelledby="tab-status">
      <div class="row">
        <div id="dot" class="dot down" aria-hidden="true"></div>
        <div id="statusText" class="status">Down</div>
      </div>
    </section>

    <!-- INFO PANEL -->
    <section class="panel" hidden role="tabpanel" id="panel-info" aria-labelledby="tab-info">
      <div class="grid">
        <div class="card">
          <h3>What is CC‑MP?</h3>
          <p>CC‑MP is a community‑made project that brings multiplayer‑style features to Cookie Clicker. Depending on the server, it can include rooms, shared progress, presence, and chat.</p>
        </div>
        <div class="card">
          <h3>How it works</h3>
          <p>A client‑side mod connects to a CC‑MP server to exchange events with other players. Feature sets vary by server.</p>
        </div>
        <div class="card">
          <h3>What CC‑MP is not</h3>
          <ul class="list">
            <li>Not official or endorsed by DashNet/Orteil.</li>
            <li>Not guaranteed 24/7; servers may go up/down.</li>
            <li>Not a paid product; avoid anyone selling access.</li>
          </ul>
        </div>
        <div class="card">
          <h3>Notes</h3>
          <p>Use trusted sources, back up your save, and follow each server’s rules.</p>
        </div>
      </div>
    </section>
  </div>

  <script>
    // Read single source of truth from <meta name="ccmp-status" content="Up|Down">
    function getMetaStatus(){
      const meta = document.querySelector('meta[name="ccmp-status"]');
      const v = (meta?.getAttribute('content') || 'Down').trim().toLowerCase();
      return v === 'up' ? 'up' : 'down';
    }

    function apply(state){
      const isUp = String(state).toLowerCase() === 'up';
      const dot = document.getElementById('dot');
      const text = document.getElementById('statusText');
      dot.className = 'dot ' + (isUp ? 'up' : 'down');
      text.textContent = isUp ? 'Up' : 'Down';
      document.title = `CC‑MP • ${isUp ? 'Up' : 'Down'}`;
    }

    // Initialize from meta and keep optional external toggle
    document.addEventListener('DOMContentLoaded', () => apply(getMetaStatus()));
    window.setCCMPStatus = apply; // optional dynamic toggle (not required)

    // Tabs
    const tabs = Array.from(document.querySelectorAll('.tab'));
    const panels = {
      'tab-status': document.getElementById('panel-status'),
      'tab-info': document.getElementById('panel-info')
    };
    function activate(id){
      for (const t of tabs){
        const sel = t.id === id;
        t.setAttribute('aria-selected', sel);
        panels[t.id].hidden = !sel;
      }
    }
    tabs.forEach(t => t.addEventListener('click', () => activate(t.id)));
    document.querySelector('.tabs').addEventListener('keydown', (e) => {
      if(e.key !== 'ArrowLeft' && e.key !== 'ArrowRight') return;
      e.preventDefault();
      const i = tabs.indexOf(document.activeElement);
      const n = e.key === 'ArrowRight' ? (i+1) % tabs.length : (i-1+tabs.length)%tabs.length;
      tabs[n].focus(); activate(tabs[n].id);
    });
  </script>
</body>
</html>
